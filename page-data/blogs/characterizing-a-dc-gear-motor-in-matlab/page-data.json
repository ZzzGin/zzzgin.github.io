{
    "componentChunkName": "component---src-templates-md-template-js",
    "path": "/blogs/characterizing-a-dc-gear-motor-in-matlab",
    "result": {"pageContext":{"html":"<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#measure-the-relation-between-pwm-duty-cycle-and-speed\">Measure the relation between PWM Duty Cycle and Speed</a></li>\n<li><a href=\"#post-process-speed-measurements-to-remove-dead-zone\">Post-Process Speed Measurements to remove \"Dead Zone\"</a></li>\n<li><a href=\"#creating-matlab-functions\">Creating Matlab Functions</a></li>\n</ul>\n</div>\n<h2 id=\"measure-the-relation-between-pwm-duty-cycle-and-speed\" style=\"position:relative;\"><a href=\"#measure-the-relation-between-pwm-duty-cycle-and-speed\" aria-label=\"measure the relation between pwm duty cycle and speed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Measure the relation between PWM Duty Cycle and Speed</h2>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 1. Create test data </span>\n\nmaxPWM <span class=\"token operator\">=</span> <span class=\"token number\">1.00</span><span class=\"token punctuation\">;</span>                          <span class=\"token comment\">% Maximum duty cycle</span>\nincrPWM <span class=\"token operator\">=</span> <span class=\"token number\">0.05</span><span class=\"token punctuation\">;</span>                         <span class=\"token comment\">% PWM increment</span>\nPWMcmdRaw <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">-</span>maxPWM<span class=\"token operator\">:</span>incrPWM<span class=\"token operator\">:</span>maxPWM<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">% Column vector of duty cycles from -1 to 1</span>\nspeedRaw <span class=\"token operator\">=</span> <span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span>PWMcmdRaw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">% Initialize a vector for speed raw reads</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 2. Create and initialize device objects </span>\n\nclear a dcm carrier enc              <span class=\"token comment\">% Delete existing device objects</span>\n\na <span class=\"token operator\">=</span> arduino<span class=\"token punctuation\">;</span>\ncarrier <span class=\"token operator\">=</span> <span class=\"token function\">motorCarrier</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndcm <span class=\"token operator\">=</span> <span class=\"token function\">dcmotor</span><span class=\"token punctuation\">(</span>carrier<span class=\"token punctuation\">,</span><span class=\"token string\">'M1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>         <span class=\"token comment\">% Connect a DC motor at 'M1' port on the Arduino Nano Motor Carrier board</span>\n\nenc <span class=\"token operator\">=</span> <span class=\"token function\">rotaryEncoder</span><span class=\"token punctuation\">(</span>carrier<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">% Connect the encoder of 'M1' at the encoder port 1 on the Arduino Nano Motor Carrier boardColumn vector of duty cycles from -1 to 1</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 3. Measure raw motor speed for each PWM command</span>\n\ndcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>                             \ngearRatio <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>                            <span class=\"token comment\">% As per the motor spec sheet, gear ratio equals 100:1</span>\n<span class=\"token function\">start</span><span class=\"token punctuation\">(</span>dcm<span class=\"token punctuation\">)</span>                                  <span class=\"token comment\">% turn on motor</span>\ndcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token function\">PWMcmdRaw</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                   <span class=\"token comment\">% this assigns the first value to dcm.Speed</span>\n<span class=\"token keyword\">pause</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>                                    <span class=\"token comment\">% wait for steady state</span>\n<span class=\"token function\">speedRaw</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">readSpeed</span><span class=\"token punctuation\">(</span>enc<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>gearRatio<span class=\"token punctuation\">;</span>     <span class=\"token comment\">% read motor speed in rpm of the output shaft</span>\n<span class=\"token function\">stop</span><span class=\"token punctuation\">(</span>dcm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                                  <span class=\"token comment\">% turn off motor</span>\ndcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>   </code></pre></div>\n<p>After running this section, the DC motor will run at max speed (-1) for 1 second and stop. Array - speedRaw will record the encoder counter read.</p>\n<p>To measure all possible values, we use for-loop:</p>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 3. Measure raw motor speed for each PWM command</span>\n\ndcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>                              \ngearRatio <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>                                <span class=\"token comment\">% As per the motor spec sheet, gear ratio equals 100:1</span>\n<span class=\"token function\">start</span><span class=\"token punctuation\">(</span>dcm<span class=\"token punctuation\">)</span>                                      <span class=\"token comment\">% turn on motor</span>\n\n<span class=\"token keyword\">for</span> ii <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token operator\">:</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span>PWMcmdRaw<span class=\"token punctuation\">)</span>\n    dcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token function\">PWMcmdRaw</span><span class=\"token punctuation\">(</span>ii<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">pause</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>                                    <span class=\"token comment\">% wait for steady state</span>\n    <span class=\"token function\">speedRaw</span><span class=\"token punctuation\">(</span>ii<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token function\">readSpeed</span><span class=\"token punctuation\">(</span>enc<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>gearRatio<span class=\"token punctuation\">;</span>    <span class=\"token comment\">% read motor speed in rpm of the output shaft</span>\n<span class=\"token keyword\">end</span>\n\n<span class=\"token function\">stop</span><span class=\"token punctuation\">(</span>dcm<span class=\"token punctuation\">)</span>                                       <span class=\"token comment\">% turn off motor</span>\ndcm<span class=\"token punctuation\">.</span>Speed <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now visualize the result:</p>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 4. Graph raw data</span>\n\n<span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>PWMcmdRaw<span class=\"token punctuation\">,</span>speedRaw<span class=\"token punctuation\">)</span>      <span class=\"token comment\">% raw speed measurements</span>\n<span class=\"token function\">title</span><span class=\"token punctuation\">(</span><span class=\"token string\">'100:1 Gearbox Motor Steady State Response'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">xlabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'PWM Command'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">ylabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Measured Speed (rpm)'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 980px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e55f043e02cfcd722ae164909930739f/f32b7/WeChate55f043e02cfcd722ae164909930739f.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.73469387755102%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABSElEQVQ4y5WU646CQAyFff8XFCXE/yosCMwwl/ZsTiNuEF20yThph/loD607AIgxwnsPEUHf96iqCmVZoigKHI9H8w+Hg8XoM77f73E6nexeSgmqShR2/AkhoG1bO5imyaC3281i3Lm6rjOfO/2maTD0PVKMdodJrYDfGnMSAONEaPgD5pztzZ9azAIXMkISJFHElCwpA7LMuaxPjJApySLGhB5Ainq5XEy3LRMFfJRVfAF0zqGua3DfMsJE8RL4+CjjOJp+zHT+9M/mohgsyevzVcnn8/ltyTErQtZ/M1+VTA2HYXib3ZYtgKaN9+ie+jCrwsWMLPo9kII2P62Vx0W92Bqqn/XlCyAnpTNYEv16YtjLi9Fz3qNpansL55KLs0p9KQcXG38+o94c1dnncwugzeVTffMDvHy9Xq1Xuc9xZrWY6/u/zS+OuZsEFOroOwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"motor response diagram\"\n        title=\"motor response diagram\"\n        src=\"/static/e55f043e02cfcd722ae164909930739f/d30ee/WeChate55f043e02cfcd722ae164909930739f.png\"\n        srcset=\"/static/e55f043e02cfcd722ae164909930739f/86a2e/WeChate55f043e02cfcd722ae164909930739f.png 245w,\n/static/e55f043e02cfcd722ae164909930739f/41d3c/WeChate55f043e02cfcd722ae164909930739f.png 490w,\n/static/e55f043e02cfcd722ae164909930739f/d30ee/WeChate55f043e02cfcd722ae164909930739f.png 980w,\n/static/e55f043e02cfcd722ae164909930739f/f32b7/WeChate55f043e02cfcd722ae164909930739f.png 1136w\"\n        sizes=\"(max-width: 980px) 100vw, 980px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"post-process-speed-measurements-to-remove-dead-zone\" style=\"position:relative;\"><a href=\"#post-process-speed-measurements-to-remove-dead-zone\" aria-label=\"post process speed measurements to remove dead zone permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Post-Process Speed Measurements to remove \"Dead Zone\"</h2>\n<p>To create a <strong>motor control system</strong>, in which a user will request a motor speed in rpm and system gives the PWM duty value, we need to remove repeated values.</p>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 5. Post-process and save data</span>\nidx <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token function\">diff</span><span class=\"token punctuation\">(</span>speedRaw<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>                        <span class=\"token comment\">% speedRaw is 1x41 vector. diff calculates the </span>\n                                                <span class=\"token comment\">% difference between 2 consecutive values. idx </span>\n                                                <span class=\"token comment\">% is a 1x40 vector containing 1 and 0. 1 means at</span>\n                                                <span class=\"token comment\">% that index, the diff is not 0.</span>\n\nspeedMono <span class=\"token operator\">=</span> <span class=\"token function\">speedRaw</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                      <span class=\"token comment\">% speedMono is a sub-set of speedRaw with different </span>\n                                                <span class=\"token comment\">% values</span>\n\nPWMcmdMono <span class=\"token operator\">=</span> <span class=\"token function\">PWMcmdRaw</span><span class=\"token punctuation\">(</span>idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">PWMcmdMono</span><span class=\"token punctuation\">(</span>speedMono <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>                 <span class=\"token comment\">% enforce zero power for zero speed</span>\nsave motorResponse PWMcmdMono speedMono         <span class=\"token comment\">% save post-processed measurements</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 6. Graph raw and post-processed data</span>\n\n<span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>PWMcmdRaw<span class=\"token punctuation\">,</span>speedRaw<span class=\"token punctuation\">)</span>                            <span class=\"token comment\">% raw speed measurements</span>\nhold on\n<span class=\"token function\">plot</span><span class=\"token punctuation\">(</span>PWMcmdMono<span class=\"token punctuation\">,</span>speedMono<span class=\"token punctuation\">)</span>                          <span class=\"token comment\">% non-monotonic measurements filtered out</span>\n<span class=\"token function\">title</span><span class=\"token punctuation\">(</span><span class=\"token string\">'100:1 Gearbox Motor Steady State Response'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">xlabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'PWM Command'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">ylabel</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Measured Speed (rpm)'</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">legend</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Raw Data'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Monotonic Data'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'Location'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'northwest'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 980px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8cd23efc0fc9e40fe023b8e6320f336b/10ab7/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.63265306122447%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABY0lEQVQ4y52U646CQAyFef+3U9Fo/GFiVIyouCIwl86czSlBsxthZZtMgE755tALSQgBx+MRTdPAe48sy7Ber7FarTCdTrFcLvXK58lkgtlshjRNsVgs1D+fz3E+nyEisNYiAaCw2+0LdWOw3+8VstvtUFUVxpgCqZAnPB4lvDXITydst1sFE0rVtBjjz6W+APEezlp4a/Go6lbh/X6Hc36Umige0VuIcwgiL4WEFUUB59znMO8U+NvISPhpdV0r/SMLQYHv7F/A6EzvngIPh4OW3Jj+wBAjjLFo6kZjB4HsO1ZtSKFYgyB/F02Bm81Gi9KrkDmTzwr2VEhYn8KhnL0F8uZ6vT4b+EUKLSzGcUBOyuVy0TEL2qxOJ8ZZg7GmQBakLMs2hyPUDCrkLBMoEvTTudibDOjapPNTAH3cY0znp48/Gc1h19gM5gHcZF67X1Ke55oW+jiqHYTdwRi+w3ep8Bv4Lee/yRhArwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"plot\"\n        title=\"plot\"\n        src=\"/static/8cd23efc0fc9e40fe023b8e6320f336b/d30ee/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png\"\n        srcset=\"/static/8cd23efc0fc9e40fe023b8e6320f336b/86a2e/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png 245w,\n/static/8cd23efc0fc9e40fe023b8e6320f336b/41d3c/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png 490w,\n/static/8cd23efc0fc9e40fe023b8e6320f336b/d30ee/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png 980w,\n/static/8cd23efc0fc9e40fe023b8e6320f336b/1134b/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png 1470w,\n/static/8cd23efc0fc9e40fe023b8e6320f336b/10ab7/WeChat8cd23efc0fc9e40fe023b8e6320f336b.png 1552w\"\n        sizes=\"(max-width: 980px) 100vw, 980px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token comment\">%% 6. Delete device objects</span>\n\nclear a dcm carrier enc</code></pre></div>\n<h2 id=\"creating-matlab-functions\" style=\"position:relative;\"><a href=\"#creating-matlab-functions\" aria-label=\"creating matlab functions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Matlab Functions</h2>\n<p>By creating \"live function\", we can manage reusable functions by defining:</p>\n<div class=\"gatsby-highlight\" data-language=\"matlab\"><pre class=\"language-matlab\"><code class=\"language-matlab\"><span class=\"token keyword\">function</span> <span class=\"token punctuation\">[</span>PWMcmdMono<span class=\"token punctuation\">,</span>speedMono<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">myMotorFunction</span><span class=\"token punctuation\">(</span>PWMcmdRaw<span class=\"token punctuation\">,</span>dcm<span class=\"token punctuation\">,</span>enc<span class=\"token punctuation\">)</span></code></pre></div>\n<p>With the help of this function, section 3-6 can be replaced by one line of function call.</p>\n<blockquote>\n<p>In the tutorial, to save data to work place, it uses <code class=\"language-text\">save(filename, 'vector-1', 'vector-2')</code>. However, it looks like it does not work in my workplace. I need to change it to <code class=\"language-text\">save filename vector-1 vector-2</code>.</p>\n</blockquote>\n<p>With the file myMotorCharacterization.mlx and myMotorFunction.mlx, we can run <code class=\"language-text\">clear</code> then <code class=\"language-text\">myMotorCharacterization</code> in the command window to reuse the characterization funcion. <code class=\"language-text\">PWMcmdMono</code> and <code class=\"language-text\">speedMono</code> will be saved in motorResponse.mat file.</p>","date":"July 05, 2022","tags":["blog","arduino engineering kit","matlab","dc motor"],"title":"Characterizing a DC Gear Motor in Matlab","description":"EACH DC Motor has uniqe characteristic. For example the relationship between voltage and speed, or so called dead band. This blog follows the article in Arduino's official tutorial to measure and draw diagram to characterize DC Motor."}},
    "staticQueryHashes": []}